<!DOCTYPE html>
<html>
<head>
        <script src="http://www.cs.unc.edu/~kmp/comp426fall18/jquery-3.3.1.js"></script>
</head>

<body>

<div id="id01"></div>
<script>
var flights = 
[
  {
  "departs_at": "12:00",
  "arrives_at": "14:00",
  "number": "AA2667",
  "plane_id": 2686,
  "departure_id": 84907,
  "arrival_id": 77893,
  "airline_id": 30782
  },
  {
  "departs_at": "10:00",
  "arrives_at": "11:00",
  "number": "UA583",
  "plane_id": 2084,
  "departure_id": 84767,
  "arrival_id": 84859,
  "airline_id": 35954
  }
]

    
;;

myFunction(flights);
// check(airlines);
function check(arr){
    console.log(arr.length);
}

function myFunction(arr) {
    var out = "";
    var i;
    for(i = 0; i < arr.length; i++) {
        $.ajax("http://comp426.cs.unc.edu:3001/flights",
        {
            type:"POST",
            xhrFields:{
                withCredentials:true
            },
            data:{
                "flight": {
                  departs_at: arr[i].departs_at,
                  arrives_at: arr[i].arrives_at,
                  number: arr[i].number,
                  departure_id: arr[i].departure_id,
                  arrival_id: arr[i].arrival_id,
                  airline_id: arr[i].airline_id,
                  plane_id: arr[i].plane_id
                }
            },
            success: function(){
                
            },
            error: function(){
            }
        })
        //out += '<a href="' + arr[i].url + '">' + 
        //arr[i].airlineName + '</a><br>';
    }
    document.getElementById("id01").innerHTML = out;
}
</script>

</body>
</html>